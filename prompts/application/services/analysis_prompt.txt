**User Question:**
{question.text}
Language: {question.language}

**Dataset Context:**
- File: {dataset_info.filename}
- Shape: {dataset_info.shape[0]} rows, {dataset_info.shape[1]} columns
- Available Columns: {available_columns}

**Column Data Types:**
{column_types_str}

**Sample Data (First 5 Rows):**
{sample_data_str}

**Analysis Requirements:**
1. Provide a clear, accurate answer to the user's question
2. Generate executable Python pandas code to verify the answer
3. Store the final result in a variable called 'result'
4. Suggest the most appropriate visualization type (bar, line, pie, or scatter)
5. Return the response in valid JSON format

**Response Format:**
{{
    "answer": "Your clear answer here",
    "confidence": 0.0-1.0,
    "explanation": "Brief explanation of your analysis approach",
    "code": "Python code using pandas DataFrame 'df'",
    "code_description": "Description of what the code does",
    "visualization_type": "bar|line|pie|scatter"
}}

**Important Guidelines:**
- Use only the pandas DataFrame 'df' available in the environment
- Code must be syntactically correct and executable
- Include proper error handling in your code
- Consider data aggregation, filtering, or statistical analysis as needed
- Choose visualization type based on the data nature and question type
- Be specific and accurate in your answers